<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Central de Componentes</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Arial:wght@400&display=swap');

        /* 2. Definição da Paleta (Identidade Visual da Ferramenta) */
        :root {
            --color-cinza-tech: #030200;
            --color-branco-puro: #FFFFFF;
            --color-azul-moderno: #0A88F4;
            --color-azul-profundo: #00011E;
            --color-verde-tech: #C3EB1E;
            --font-primary: 'Montserrat', 'Arial', sans-serif;
            --font-secondary: 'Arial', 'Montserrat', sans-serif;
        }

        body {
            font-family: var(--font-secondary);
            background-color: var(--color-azul-profundo);
            color: var(--color-branco-puro);
            margin: 0;
            padding: 24px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 24px;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
        }

        header {
            text-align: center;
            border-bottom: 2px solid var(--color-azul-moderno);
            padding-bottom: 16px;
            margin-bottom: 24px;
        }

        header h1 {
            font-family: var(--font-primary);
            font-weight: 700;
            color: var(--color-verde-tech);
            margin: 0;
        }
        
        header p {
            font-size: 1.1rem;
            color: var(--color-branco-puro);
            opacity: 0.9;
        }

        /* Estilo dos formulários e painéis */
        .form-section {
            background: rgba(0, 0, 0, 0.1);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 24px; /* Adicionado para separar seções */
        }

        .form-section h2 {
            font-family: var(--font-primary);
            font-weight: 600;
            color: var(--color-azul-moderno);
            margin-top: 0;
            border-bottom: 1px solid var(--color-azul-moderno);
            padding-bottom: 8px;
        }
        
        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 6px;
            font-size: 0.9rem;
        }

        input[type="text"],
        select,
        textarea {
            width: 100%;
            padding: 10px;
            box-sizing: border-box; 
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background-color: rgba(0, 0, 0, 0.2);
            color: var(--color-branco-puro);
            font-family: var(--font-secondary);
            font-size: 1rem;
        }
        
        input::placeholder,
        textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        button {
            font-family: var(--font-primary);
            font-weight: 700;
            font-size: 1rem;
            padding: 12px 24px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        button[type="submit"] {
            background-color: var(--color-verde-tech);
            color: var(--color-azul-profundo);
        }
        
        button[type="submit"]:hover {
            background-color: var(--color-branco-puro);
            transform: translateY(-2px);
        }
        
        #output-section-flipcard {
             margin-top: 24px;
        }

        #output-code-flipcard {
            width: 100%;
            min-height: 300px;
            background-color: #010a1a;
            color: #f0f0f0;
            border: 1px solid var(--color-azul-moderno);
            border-radius: 8px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
            white-space: pre;
            overflow-x: auto;
        }
        
        #copy-button-flipcard {
            background-color: var(--color-azul-moderno);
            color: var(--color-branco-puro);
            margin-top: 12px;
        }
        
        #copy-button-flipcard:hover {
            background-color: #0a73c4;
        }

    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Central de Componentes Interativos</h1>
            <p>Selecione e configure seu objeto (WCAG) para o Google Sites.</p>
        </header>

        <section class="form-section">
            <h2>1. Selecione o Tipo de Objeto</h2>
            <div class="form-group">
                <label for="object-selector">Tipo de Objeto Interativo</label>
                <select id="object-selector">
                    <option value="">-- Selecione uma opção --</option>
                    <option value="flipcard">Flip Cards</option>
                    <option value="accordion" disabled>Acordeão (em breve)</option>
                    <option value="modal" disabled>Modal de Imagem (em breve)</option>
                    <option value="quiz" disabled>Quiz Simples (em breve)</option>
                </select>
            </div>
        </section>

        <div id="panel-flipcard" class="generator-panel" style="display: none;">
            <section class="form-section">
                <h2>2. Configure o Flip Card</h2>
                <form id="generator-form-flipcard" style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                    <div>
                        <div class="form-group">
                            <label for="input-titulo-frente">Título da Frente</label>
                            <input type="text" id="input-titulo-frente" placeholder="Ex: Aprendizado Dinâmico" required>
                        </div>
                        <div class="form-group">
                            <label for="input-descricao-frente">Descrição da Frente</label>
                            <input type="text" id="input-descricao-frente" placeholder="Ex: Conteúdo adaptado para você." required>
                        </div>
                        <div class="form-group">
                            <label for="input-titulo-verso">Título do Verso</label>
                            <input type="text" id="input-titulo-verso" placeholder="Ex: Objetivos da Unidade" required>
                        </div>
                        <div class="form-group">
                            <label for="input-linhas-verso">Itens do Verso (um por linha)</label>
                            <textarea id="input-linhas-verso" placeholder="Ex: Compreender o conceito de IA.&#10;Aplicar aprendizado adaptativo." required></textarea>
                        </div>
                    </div>

                    <div>
                        <div class="form-group">
                            <label for="input-cor-tema">Cor de Destaque</label>
                            <select id="input-cor-tema">
                                <option value="#0A88F4">Azul Moderno (Oficial)</option>
                                <option value="#9D4DFF">Roxo (Legado)</option>
                                <option value="#FF8C00">Laranja (Legado)</option>
                                <option value="#28a745">Verde (Legado)</option>
                                <option value="#C3EB1E">Verde Tech (Oficial)</option>
                                <option value="#FF7A00">Laranja Quente (Oficial)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="input-icone">Ícone (Bootstrap Icons)</label>
                            <select id="input-icone">
                                <option value="lightbulb" data-label="Ícone de lâmpada">Lâmpada (bi-lightbulb)</option>
                                <option value="bullseye" data-label="Ícone de alvo">Alvo (bi-bullseye)</option>
                                <option value="patch-check" data-label="Ícone de selo de verificação">Selo (bi-patch-check)</option>
                                <option value="book" data-label="Ícone de livro">Livro (bi-book)</option>
                                <option value="cpu" data-label="Ícone de chip de CPU">CPU (bi-cpu)</option>
                                <option value="bar-chart-steps" data-label="Ícone de gráfico de barras">Gráfico (bi-bar-chart-steps)</option>
                                <option value="people" data-label="Ícone de pessoas">Pessoas (bi-people)</option>
                                <option value="question-circle" data-label="Ícone de interrogação">Dúvida (bi-question-circle)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="input-aria-label">Rótulo de Acessibilidade (Região)</label>
                            <input type="text" id="input-aria-label" placeholder="Ex: Card Interativo: Aprendizado Dinâmico" required>
                            <small style="opacity: 0.7; font-size: 0.8rem;">Ajuda leitores de tela. Use: "Card Interativo: [Título da Frente]"</small>
                        </div>
                    </div>

                    <div class="full-width">
                        <button type="submit">Gerar Objeto Interativo</button>
                    </div>
                </form>
            </section>
            
            <div id="output-section-flipcard" style="display: none;">
                <h2>3. Código Gerado (Pronto para Google Sites)</h2>
                <textarea id="output-code-flipcard" readonly></textarea>
                <button id="copy-button-flipcard">Copiar Código</button>
            </div>
        </div>
        
        </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- 1. LÓGICA DO MENU SELETOR DE OBJETO (NOVO) ---
            const selector = document.getElementById('object-selector');
            const flipCardPanel = document.getElementById('panel-flipcard');
            // const accordionPanel = document.getElementById('panel-accordion'); // Futuro

            selector.addEventListener('change', () => {
                const selectedValue = selector.value;
                
                // Esconde todos os painéis primeiro
                flipCardPanel.style.display = 'none';
                // accordionPanel.style.display = 'none'; // Futuro

                // Mostra o painel selecionado
                if (selectedValue === 'flipcard') {
                    flipCardPanel.style.display = 'block';
                }
                // else if (selectedValue === 'accordion') { // Futuro
                //     accordionPanel.style.display = 'block';
                // }
            });

            // --- 2. LÓGICA DO GERADOR DE FLIP CARD (ATUALIZADA) ---
            // IDs foram atualizados para serem específicos (ex: #generator-form-flipcard)
            
            const form = document.getElementById('generator-form-flipcard');
            const outputSection = document.getElementById('output-section-flipcard');
            const outputCode = document.getElementById('output-code-flipcard');
            const copyButton = document.getElementById('copy-button-flipcard');

            // --- Mapa de Ícones (SVG Paths do Bootstrap) ---
            // (Esta seção não foi alterada)
            const iconMap = {
                'lightbulb': {
                    label: "Ícone de lâmpada",
                    path: "M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13h-5a.5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6 8.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zM8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1z"
                },
                'bullseye': {
                    label: "Ícone de alvo",
                    path: "M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z M8 13A5 5 0 1 1 8 3a5 5 0 0 1 0 10zm0 1A6 6 0 1 0 8 2a6 6 0 0 0 0 12z M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8z M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"
                },
                'patch-check': {
                    label: "Ícone de selo de verificação",
                    path: "M10.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z m-4.04-4.85a3.001 3.001 0 0 0-2.122.879L3.43 2.44a1.5 1.5 0 0 1-2.121 0l-.707-.707a.5.5 0 0 0-.708 0L.002 2.62a.5.5 0 0 0 0 .708l.707.707a1.5 1.5 0 0 1 0 2.122L.002 7.42a.5.5 0 0 0 0 .708l.879.878a.5.5 0 0 0 .708 0l.707-.707a1.5 1.5 0 0 1 2.121 0l1.263 1.263a3.001 3.001 0 0 0 2.122.879h.571a3.001 3.001 0 0 0 2.122-.879l1.263-1.263a1.5 1.5 0 0 1 2.121 0l.707.707a.5.5 0 0 0 .708 0l.878-.878a.5.5 0 0 0 0-.708l-.707-.707a1.5 1.5 0 0 1 0-2.122l.707-.707a.5.5 0 0 0 0-.708l-.878-.878a.5.5 0 0 0-.708 0l-.707.707a1.5 1.5 0 0 1-2.121 0L10.19 2.44a3.001 3.001 0 0 0-2.122-.879h-.571zM8 1.5a1.5 1.5 0 0 1 .707.293l1.263 1.263a.5.5 0 0 0 .707 0l.707-.707a1.5 1.5 0 0 1 2.121 0l.707.707a.5.5 0 0 0 .708 0L15.707 2.2a.5.5 0 0 0 0-.708l-.707-.707a1.5 1.5 0 0 1 0-2.121L15.707.002a.5.5 0 0 0-.708 0l-.707.707a.5.5 0 0 0 0 .707L12.44 3.26a1.5 1.5 0 0 1-2.121 0L9.057 2.002A1.5 1.5 0 0 1 8 1.5z"
                },
                'book': {
                    label: "Ícone de livro",
                    path: "M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.43-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.746c-.917-.381-2.107-.691-3.287-.81-1.094-.11-2.278-.027-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"
                },
                'cpu': {
                    label: "Ícone de chip de CPU",
                    path: "M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14.5 4.5V6h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14.5A2.5 2.5 0 0 1 12 14v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 1.5 11.5V10H0a.5.5 0 0 1 0-1h1.5V8H0a.5.5 0 0 1 0-1h1.5V6H0a.5.5 0 0 1 0-1h1.5A2.5 2.5 0 0 1 4 2V.5A.5.5 0 0 1 5 0zm-.5 3A1.5 1.5 0 0 0 3 4.5V6h1V4.5A1.5 1.5 0 0 0 4.5 3h-1zm1 0h1v3h-1v-3zm2 0h1v3h-1v-3zm2 0h1v3h-1v-3zm2 0h1v3h-1v-3zM3 7h1v2H3V7zm2 0h1v2H5V7zm2 0h1v2H7V7zm2 0h1v2H9V7zm2 0h1v2h-1V7zM3 10h1v2H3v-2zm2 0h1v2H5v-2zm2 0h1v2H7v-2zm2 0h1v2H9v-2zm2 0h1v2h-1v-2zm-1 3.5A1.5 1.5 0 0 0 10 12h1v1.5a1.5 1.5 0 0 0 1.5 1.5h-1A1.5 1.5 0 0 0 10.5 13.5v-1zm-1 0v1A1.5 1.5 0 0 0 11 15h-1a1.5 1.5 0 0 0-1.5-1.5v-1zm-2 0v1A1.5 1.5 0 0 0 9 15H8a1.5 1.5 0 0 0-1.5-1.5v-1zm-2 0v1A1.5 1.5 0 0 0 7 15H6a1.5 1.5 0 0 0-1.5-1.5v-1zm-2 0v1A1.5 1.5 0 0 0 5 15H4a1.5 1.5 0 0 0-1.5-1.5v-1z"
                },
                'bar-chart-steps': {
                    label: "Ícone de gráfico de barras",
                    path: "M.5 0a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-1 0V.5A.5.5 0 0 1 .5 0zM2 1.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-1zm6 4a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-1zm6 4a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-1z"
                },
                'people': {
                    label: "Ícone de pessoas",
                    path: "M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.004a.274.274 0 0 1-.274.274H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 1 1 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 10.5C3.163 11.42 3 12.36 3 13c0 .58.068 1.05.18 1.485.11.433.266.82.457 1.152A.659.659 0 0 0 3 16h.5l.003-.001.004-.001.006-.001.006-.001.006-.001.007-.001.007-.001.007-.001.008-.001.008-.001.008-.001.008-.001.009-.001.009-.001.01-.001.01-.001.01-.001.01-.001.011-.001.011-.001.011-.001.012-.001c.219-.034.468-.08.754-.142.285-.062.613-.14.99-.24.376-.1.802-.218 1.27-.36.469-.14.986-.3 1.53-.47C8.18 15.04 8.582 15 9 15c.418 0 .82.04 1.21.117.545.17.96.33 1.53.47.468.142.894.26 1.27.36.377.1.705.178.99.24.286.062.535.108.754.142l.012.001.011.001.011.001.011.001.01.001.01.001.01.001.009.001.009.001.008.001.008.001.008.001.008.001.007.001.007.001.007.001.006.001.006.001.006.001.004.001.003.001H16a.5.5 0 0 0 .5-.5c0-1.01-.377-2.042-1.09-2.904-.243-.294-.526-.569-.846-.816A5.88 5.88 0 0 0 13.064 9.28zM4 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"
                },
                'question-circle': {
                    label: "Ícone de interrogação",
                    path: "M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"
                }
            };
            
            // --- Processamento do Formulário (Flip Card) ---
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                
                // 1. Coletar Variáveis
                const tituloFrente = document.getElementById('input-titulo-frente').value;
                const descricaoFrente = document.getElementById('input-descricao-frente').value;
                const tituloVerso = document.getElementById('input-titulo-verso').value;
                const linhasVerso = document.getElementById('input-linhas-verso').value;
                const corTema = document.getElementById('input-cor-tema').value;
                
                const iconeSelect = document.getElementById('input-icone');
                const iconeKey = iconeSelect.value;
                const iconeAriaLabel = iconeSelect.options[iconeSelect.selectedIndex].getAttribute('data-label');
                const iconePath = iconMap[iconeKey]?.path || 'M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z';
                
                const ariaLabelRegiao = document.getElementById('input-aria-label').value;
                const ariaLabelBotao = `${tituloFrente}. Pressione para ver os objetivos.`;

                // 2. Processar Variáveis
                const uniqueId = `card-flipper-${Date.now().toString().slice(-6)}`;
                const listaItensHTML = linhasVerso
                    .split('\n')
                    .filter(line => line.trim() !== '')
                    .map(line => `          <li>${line.trim()}</li>`)
                    .join('\n');
                    
                // 3. Gerar o Código
                const generatedCode = createCardTemplate(
                    uniqueId,
                    corTema,
                    tituloFrente,
                    descricaoFrente,
                    tituloVerso,
                    listaItensHTML,
                    iconePath,
                    iconeAriaLabel,
                    ariaLabelRegiao,
                    ariaLabelBotao
                );

                // 4. Exibir o Código
                outputCode.value = generatedCode;
                outputSection.style.display = 'block';
                outputCode.focus();
                outputCode.select();
            });
            
            // --- Lógica de Copiar (Flip Card) ---
            copyButton.addEventListener('click', () => {
                if (!outputCode.value) return;
                
                navigator.clipboard.writeText(outputCode.value).then(() => {
                    const originalText = copyButton.textContent;
                    copyButton.textContent = 'Copiado com Sucesso!';
                    copyButton.style.backgroundColor = '#28a745'; 
                    
                    setTimeout(() => {
                        copyButton.textContent = originalText;
                        copyButton.style.backgroundColor = 'var(--color-azul-moderno)';
                    }, 2500);
                }).catch(err => {
                    console.error('Falha ao copiar: ', err);
                });
            });
            
        });

        // --- O "Motor" do Template (Flip Card) ---
        // (Esta função não foi alterada)
        function createCardTemplate(
            uniqueId, 
            corTema, 
            tituloFrente, 
            descricaoFrente, 
            tituloVerso, 
            listaItensHTML, 
            iconePath, 
            iconeAriaLabel, 
            ariaLabelRegiao, 
            ariaLabelBotao
        ) {
            
return `<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap');
  
  body {
    margin: 0;
    padding: 10px;
    font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    perspective: 1000px;
    background-color: transparent;
  }

  .interactive-card-wrapper {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .interactive-card-wrapper.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  @media (prefers-reduced-motion: reduce) {
    .interactive-card-wrapper {
      transition: opacity 0.4s ease-out;
      transform: none;
    }
  }

  .interactive-card {
    width: 250px;
    height: 180px;
    cursor: pointer;
    position: relative;
    display: block;
    perspective: 1000px;
    border-radius: 8px;
  }

  .card-inner {
    width: 100%;
    height: 100%;
    transition: transform 0.6s, box-shadow 0.3s ease, border-left-color 0.3s ease;
    transform-style: preserve-3d;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    box-sizing: border-box;
    border-left: 4px solid #e0e0e0;
    background-color: #ffffff;
  }

  .interactive-card:hover .card-inner {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.12);
    border-left-color: ${corTema}; /* COR INJETADA */
  }
  
  .interactive-card:focus-visible {
    outline: 3px solid ${corTema}; /* COR INJETADA */
    outline-offset: 4px;
    border-radius: 8px;
  }

  .interactive-card.is-flipped .card-inner {
    transform: rotateY(180deg);
  }

  .interactive-card.is-flipped:hover .card-inner {
    transform: rotateY(180deg) translateY(-5px);
  }

  .card-front, .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    border-radius: 6px;
    padding: 24px;
    box-sizing: border-box;
  }

  .card-back {
    transform: rotateY(180deg);
    text-align: left;
  }

  .icon {
    color: ${corTema}; /* COR INJETADA */
    margin-bottom: 12px;
  }
  .card-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: #333;
    margin: 0 0 8px 0;
  }
  .card-description {
    font-size: 0.9rem;
    font-weight: 400;
    color: #555;
    line-height: 1.4;
  }
  .back-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: #333;
    margin: 0 0 10px 0;
    border-bottom: 2px solid ${corTema}; /* COR INJETADA */
    padding-bottom: 5px;
  }
  .objectives-list {
    font-size: 0.85rem;
    font-weight: 400;
    color: #555;
    margin: 0;
    padding-left: 20px;
  }
  .objectives-list li {
    margin-bottom: 5px;
  }
</style>

<div class="interactive-card-wrapper" role="region" aria-label="${ariaLabelRegiao}">
  <div
    id="${uniqueId}"
    class="interactive-card"
    role="button"
    tabindex="0"
    aria-pressed="false"
    aria-label="${ariaLabelBotao}"
  >
    <div class="card-inner">
      <div class="card-front" aria-hidden="false">
        <div class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi" viewBox="0 0 16 16" role="img" aria-label="${iconeAriaLabel}">
            <path d="${iconePath}"/>
          </svg>
        </div>
        <h3 class="card-title">${tituloFrente}</h3>
        <p class="card-description">${descricaoFrente}</p>
      </div>

      <div class="card-back" aria-hidden="true">
        <h4 class="back-title">${tituloVerso}</h4>
        <ul class="objectives-list">
${listaItensHTML}
        </ul>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    
    // --- LÓGICA DE ANIMAÇÃO DE ENTRADA (SCROLL) ---
    const cardWrapper = document.querySelector('#${uniqueId}').closest('.interactive-card-wrapper');
    if (cardWrapper) {
      const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            obs.unobserve(entry.target);
          }
        });
      }, { threshold: 0.25 });
      observer.observe(cardWrapper);
    }

    // --- LÓGICA DE ACESSIBILIDADE DO FLIP CARD ---
    const card = document.getElementById('${uniqueId}'); 
    if (!card) return;

    const front = card.querySelector('.card-front');
    const back = card.querySelector('.card-back');

    const flipCard = () => {
      const isPressed = card.getAttribute('aria-pressed') === 'true';
      
      card.setAttribute('aria-pressed', !isPressed);
      card.classList.toggle('is-flipped', !isPressed);

      front.setAttribute('aria-hidden', !isPressed);
      back.setAttribute('aria-hidden', isPressed);

      if (!isPressed) {
        card.setAttribute('aria-label', card.getAttribute('aria-label').replace('Pressione para ver', 'Pressione para fechar'));
      } else {
        card.setAttribute('aria-label', card.getAttribute('aria-label').replace('Pressione para fechar', 'Pressione para ver'));
      }
    };

    card.addEventListener('click', flipCard);
    card.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault(); 
        flipCard();
      }
    });
  });
<\/script>
`;
        }
    </script>
</body>
</html>